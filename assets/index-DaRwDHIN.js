(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=a(n);fetch(n.href,c)}})();const v=document.getElementById("map");let i=null,d=null;const m={lat:40.7128,lng:-74.006},b=m,y=[];function I(){i=new google.maps.Map(v,{center:m,zoom:12,mapId:"4f0f357dc8a7e399f7881230",mapTypeId:google.maps.MapTypeId.HYBRID});for(const e of y)i==null||i.addListener("click",e);d=new google.maps.marker.AdvancedMarkerElement({position:m,map:i,title:"Hello San Francisco!"})}function x(e){d&&(d.map=null),d=new google.maps.marker.AdvancedMarkerElement({position:e,map:i,title:"New Marker"})}function D(e){i?i.addListener("click",e):y.push(e)}function E(){const e="AIzaSyDIJp5K9Ki2dBsJhw2ayl-SrhJQ8_LmZn4",t=document.createElement("script");t.src=`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=marker`,t.async=!0,t.defer=!0,t.onload=I,document.head.appendChild(t)}const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function O(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}let u;const S=new Uint8Array(16);function M(){if(!u){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");u=crypto.getRandomValues.bind(crypto)}return u(S)}const $=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),f={randomUUID:$};function p(e,t,a){var n;if(f.randomUUID&&!e)return f.randomUUID();e=e||{};const r=e.random??((n=e.rng)==null?void 0:n.call(e))??M();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,O(r)}const U=p();console.log("Generated UUID:",U);function j(e,t,a){const r=p(),n=p(),c=new Date().toISOString(),l=`
    @prefix ex: <http://example.org/> .
    @prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#> .

    ex:${r} a ex:${e} ;
      ex:wasObservedAt ex:${n} .

    ex:${n} a ex:Observation ;
      geo:lat "${t}" ;
      geo:long "${a}" ;
      ex:hasDatetime "${c}" ;
      ex:hasObjectType "${e}" .
  `;console.log("Turtle Data:",l)}const k=s("message"),w=s("lat"),L=s("lng"),N=s("datetime"),A=s("object-select"),F=s("save-button");function s(e){const t=document.getElementById(e);if(!t)throw new Error(`Element with id ${e} not found`);return t}function R(){const e=new Date;N.value=e.toISOString().slice(0,16)}document.addEventListener("DOMContentLoaded",()=>{R()});function h(e,t){w.value=e.toFixed(6),L.value=t.toFixed(6)}function B(e){k.innerHTML=e}function C(){const e=parseFloat(w.value),t=parseFloat(L.value);if(isNaN(e)||isNaN(t))throw new Error("Invalid latitude or longitude");return{lat:e,lng:t}}function T(){const e=A.value;if(!e)throw new Error("No object selected");return e}function H(e){F.addEventListener("click",e)}const g=document.getElementById("debug-button");g==null||g.addEventListener("click",V);E();D(K);document.addEventListener("DOMContentLoaded",()=>{console.log("Document is ready"),H(P);const{lat:e,lng:t}=b;h(e,t)});function K(e){if(e.latLng){const t=e.latLng.lat(),a=e.latLng.lng();h(t,a),x({lat:t,lng:a})}}function P(){const e=T(),{lat:t,lng:a}=C();console.log(`Saving data for object: ${e}, lat: ${t}, lng: ${a}`);const r="A "+e+" was observed at "+t+", "+a;B(r),j(e,t,a)}function V(){}
